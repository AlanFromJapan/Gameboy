
/*************************
**
** Autogenerated stub for basic program that just displays the first Map.
** Made by GbReaper at 3/18/2020 7:58:19 AM
** AlanFromJapan - https://electrogeek.cc
**
** Move sprite sample : https://github.com/mrombout/gbdk_playground/blob/master/move_sprite/move_sprite.c
**
*/

#include <gb/gb.h>
#include <gb/drawing.h>

#include "my_lib01.c"
#include "Map_A.h"

 void set4sprite (char sid, char firsttile){
    set_sprite_tile(sid, firsttile);
    set_sprite_tile(sid+1, firsttile+1);
    set_sprite_tile(sid+2, firsttile+2);
    set_sprite_tile(sid+3, firsttile+3);
}

 void move4sprite(char sid, char x, char y){
    move_sprite(sid, x, y);
    move_sprite(sid+1, x+8, y);
    move_sprite(sid+2, x, y+8);
    move_sprite(sid+3, x+8, y+8);

}

void main() {
    char x = 50;
    char y = 50;

    SPRITES_8x8;

    //set the library
    set_sprite_data(0, my_lib01_COUNT, my_lib01);

    //draw background
    set_bkg_data(0, my_lib01_COUNT, my_lib01);
    set_bkg_tiles(0, 0, Map_A_WIDTH, Map_A_HEIGHT, Map_A);

    //make the sprite
    set4sprite(0, TILE_CHAR_NW);

    //move the sprite
    move4sprite(0, x, y);

    SHOW_BKG;
    SHOW_SPRITES;

    wait_vbl_done();

    while(1) {
        if(joypad() & J_RIGHT) {
            x++;
            move4sprite(0, x, y);
            delay(10);
        }
        if(joypad() & J_LEFT) {
            x--;
            move4sprite(0, x, y);
            delay(10);
        }
        if(joypad() & J_UP) {
            y--;
            move4sprite(0, x, y);
            delay(10);
        }
        if(joypad() & J_DOWN) {
            y++;
            move4sprite(0, x, y);
            delay(10);
        }
    }
}


